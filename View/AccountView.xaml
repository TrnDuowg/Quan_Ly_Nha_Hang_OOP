<UserControl x:Class="QuanLyNhaHang.View.AccountView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:vm="clr-namespace:QuanLyNhaHang.ViewModel"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" d:DesignHeight="600" d:DesignWidth="1000">

    <Grid Background="#F0F2F5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- PHẦN 1: THÔNG TIN CÁ NHÂN -->
        <!-- Đã xóa Elevation="4" ở thẻ Card dưới đây -->
        <materialDesign:Card Grid.Column="0" Margin="20" UniformCornerRadius="10" Padding="30">
            <StackPanel>
                <TextBlock Text="THÔNG TIN TÀI KHOẢN" FontSize="22" FontWeight="Bold" Foreground="#673AB7" HorizontalAlignment="Center" Margin="0,0,0,30"/>

                <materialDesign:PackIcon Kind="AccountCircle" Width="100" Height="100" 
                                         Foreground="Gray" HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <TextBox materialDesign:HintAssist.Hint="Tên đăng nhập" IsReadOnly="True"
                         Text="{Binding UserName}" Margin="0,10" FontSize="16"
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>

                <TextBox materialDesign:HintAssist.Hint="Tên hiển thị" 
                         Text="{Binding DisplayName}" Margin="0,10" FontSize="16"
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>

                <TextBox materialDesign:HintAssist.Hint="Số điện thoại" 
                         Text="{Binding PhoneNumber}" Margin="0,10" FontSize="16"
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>

                <Button Content="CẬP NHẬT THÔNG TIN" Command="{Binding UpdateInfoCommand}"
                        Margin="0,40,0,0" Height="45" Background="#673AB7" BorderBrush="#673AB7"/>
            </StackPanel>
        </materialDesign:Card>

        <!-- PHẦN 2: ĐỔI MẬT KHẨU -->
        <!-- Đã xóa Elevation="4" ở thẻ Card dưới đây -->
        <materialDesign:Card Grid.Column="1" Margin="20" UniformCornerRadius="10" Padding="30">
            <StackPanel>
                <TextBlock Text="ĐỔI MẬT KHẨU" FontSize="22" FontWeight="Bold" Foreground="#D32F2F" HorizontalAlignment="Center" Margin="0,0,0,30"/>

                <materialDesign:PackIcon Kind="Security" Width="80" Height="80" Foreground="#D32F2F" HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <PasswordBox x:Name="pbOldPass" materialDesign:HintAssist.Hint="Mật khẩu cũ" Margin="0,10" FontSize="16"
                             Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"/>

                <PasswordBox x:Name="pbNewPass" materialDesign:HintAssist.Hint="Mật khẩu mới" Margin="0,10" FontSize="16"
                             Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"/>

                <PasswordBox x:Name="pbConfirmPass" materialDesign:HintAssist.Hint="Nhập lại mật khẩu mới" Margin="0,10" FontSize="16"
                             Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"/>

                <!-- Binding nhiều tham số -->
                <Button Content="XÁC NHẬN ĐỔI" Margin="0,40,0,0" Height="45" Background="#D32F2F" BorderBrush="#D32F2F"
                        Command="{Binding ChangePasswordCommand}">
                    <Button.CommandParameter>
                        <MultiBinding Converter="{StaticResource PasswordMultiConverter}">
                            <Binding ElementName="pbOldPass"/>
                            <Binding ElementName="pbNewPass"/>
                            <Binding ElementName="pbConfirmPass"/>
                        </MultiBinding>
                    </Button.CommandParameter>
                </Button>
            </StackPanel>
        </materialDesign:Card>
    </Grid>
</UserControl>