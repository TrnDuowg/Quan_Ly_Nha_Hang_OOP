<UserControl x:Class="QuanLyNhaHang.View.HomeView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignHeight="600" d:DesignWidth="1000">

    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Tiêu đề -->
        <DockPanel Grid.Row="0" Margin="20">
            <TextBlock Text="TỔNG QUAN HÔM NAY" FontSize="24" FontWeight="Bold" Foreground="#555" VerticalAlignment="Center"/>
            <Button Command="{Binding RefreshCommand}" Style="{StaticResource MaterialDesignIconButton}" 
                    DockPanel.Dock="Right" ToolTip="Làm mới dữ liệu">
                <materialDesign:PackIcon Kind="Refresh" Width="30" Height="30" Foreground="#555"/>
            </Button>
        </DockPanel>

        <!-- Các thẻ thống kê -->
        <Grid Grid.Row="1" Margin="10,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- CARD 1: DOANH THU -->
            <materialDesign:Card Grid.Column="0" Margin="10" Padding="20" UniformCornerRadius="10" Background="#4CAF50">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border Background="#388E3C" CornerRadius="50" Width="60" Height="60">
                        <materialDesign:PackIcon Kind="CurrencyUsd" Width="30" Height="30" Foreground="White" 
                                                 VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>
                    <StackPanel Grid.Column="1" Margin="15,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="Doanh thu ngày" Foreground="#DDFFFFFF" FontSize="14"/>
                        <TextBlock Text="{Binding DailyRevenue, StringFormat={}{0:N0} VNĐ}" 
                                   Foreground="White" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Grid>
            </materialDesign:Card>

            <!-- CARD 2: ĐƠN HÀNG -->
            <materialDesign:Card Grid.Column="1" Margin="10" Padding="20" UniformCornerRadius="10" Background="#2196F3">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border Background="#1976D2" CornerRadius="50" Width="60" Height="60">
                        <materialDesign:PackIcon Kind="Receipt" Width="30" Height="30" Foreground="White" 
                                                 VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>
                    <StackPanel Grid.Column="1" Margin="15,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="Hóa đơn đã bán" Foreground="#DDFFFFFF" FontSize="14"/>
                        <TextBlock Text="{Binding OrderCount}" 
                                   Foreground="White" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Grid>
            </materialDesign:Card>

            <!-- CARD 3: BÀN ĐANG PHỤC VỤ -->
            <materialDesign:Card Grid.Column="2" Margin="10" Padding="20" UniformCornerRadius="10" Background="#FF9800">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border Background="#F57C00" CornerRadius="50" Width="60" Height="60">
                        <materialDesign:PackIcon Kind="TableChair" Width="30" Height="30" Foreground="White" 
                                                 VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>
                    <StackPanel Grid.Column="1" Margin="15,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="Bàn đang phục vụ" Foreground="#DDFFFFFF" FontSize="14"/>
                        <TextBlock Text="{Binding TableStatusInfo}" 
                                   Foreground="White" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Grid>
            </materialDesign:Card>
        </Grid>

        <!-- Ảnh nền trang trí ở dưới -->
        <Grid Grid.Row="2" Margin="20">
            <materialDesign:Card VerticalAlignment="Stretch" UniformCornerRadius="10">
                <Grid>
                    <Image Source="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&amp;w=1000&amp;auto=format&amp;fit=crop" 
                           Stretch="UniformToFill" Opacity="0.8"/>
                    <Border Background="#CC000000" CornerRadius="10"/>

                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="Food" Width="80" Height="80" Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock Text="HỆ THỐNG QUẢN LÝ NHÀ HÀNG" 
                                   Foreground="White" FontSize="26" FontWeight="Bold" Margin="0,10"/>
                        <TextBlock Text="Nhóm 18" Foreground="#AAA" HorizontalAlignment="Center" FontStyle="Italic"/>
                    </StackPanel>
                </Grid>
            </materialDesign:Card>
        </Grid>
    </Grid>
</UserControl>