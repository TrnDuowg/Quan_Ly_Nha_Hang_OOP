<UserControl x:Class="QuanLyNhaHang.View.PromotionView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="1000">

    <Grid Background="#F0F2F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Tiêu đề -->
        <TextBlock Text="QUẢN LÝ KHUYẾN MÃI" FontSize="24" FontWeight="Bold" 
                   Margin="20" Foreground="#673AB7"/>

        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <!-- Cột Danh sách -->
                <ColumnDefinition Width="350"/>
                <!-- Cột Nhập liệu -->
            </Grid.ColumnDefinitions>

            <!-- 1. BẢNG DANH SÁCH KHUYẾN MÃI -->
            <materialDesign:Card Grid.Column="0" Margin="10" VerticalAlignment="Stretch" UniformCornerRadius="10">
                <DataGrid ItemsSource="{Binding ListPromotion}" SelectedItem="{Binding SelectedPromotion}"
                          AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False"
                          HeadersVisibility="All" Background="White">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Mã Code" Binding="{Binding Id}" Width="100" FontWeight="Bold"/>
                        <DataGridTextColumn Header="Tên chương trình" Binding="{Binding Name}" Width="*"/>
                        <DataGridTextColumn Header="Giá trị" Binding="{Binding DiscountValue, StringFormat={}{0:N0}}" Width="80"/>
                        <DataGridTextColumn Header="Loại" Binding="{Binding DiscountType}" Width="80"/>
                        <DataGridTextColumn Header="Ngày KT" Binding="{Binding EndDate, StringFormat=dd/MM/yyyy}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </materialDesign:Card>

            <!-- 2. FORM NHẬP LIỆU -->
            <materialDesign:Card Grid.Column="1" Margin="10" Padding="20" UniformCornerRadius="10">
                <StackPanel>
                    <TextBlock Text="Thông tin chi tiết" FontWeight="Bold" FontSize="18" Margin="0,0,0,20"/>

                    <!-- Mã Code -->
                    <TextBox materialDesign:HintAssist.Hint="Mã Code (VD: TET2025)" 
                             Text="{Binding Id, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,10"/>

                    <!-- Tên chương trình -->
                    <TextBox materialDesign:HintAssist.Hint="Tên chương trình" 
                             Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,10"/>

                    <!-- Giá trị và Loại -->
                    <Grid Margin="0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBox Grid.Column="0" materialDesign:HintAssist.Hint="Giá trị giảm" 
                                 Text="{Binding DiscountValue, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>

                        <ComboBox Grid.Column="1" Width="100" Margin="10,0,0,0" 
                                  materialDesign:HintAssist.Hint="Loại"
                                  Text="{Binding DiscountType}">
                            <ComboBoxItem Content="Percent" IsSelected="True"/>
                            <ComboBoxItem Content="Amount"/>
                        </ComboBox>
                    </Grid>

                    <!-- Ngày tháng -->
                    <DatePicker materialDesign:HintAssist.Hint="Ngày bắt đầu" SelectedDate="{Binding StartDate}" Margin="0,10"/>
                    <DatePicker materialDesign:HintAssist.Hint="Ngày kết thúc" SelectedDate="{Binding EndDate}" Margin="0,10"/>

                    <!-- Các nút bấm -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,30,0,0">
                        <Button Content="MỚI" Command="{Binding ClearCommand}" Width="80" Margin="5" Style="{StaticResource MaterialDesignOutlinedButton}"/>
                        <Button Content="THÊM" Command="{Binding AddCommand}" Width="80" Margin="5" Background="#4CAF50" BorderBrush="#4CAF50"/>
                        <Button Content="XÓA" Command="{Binding DeleteCommand}" Width="80" Margin="5" Background="#F44336" BorderBrush="#F44336"/>
                    </StackPanel>
                </StackPanel>
            </materialDesign:Card>
        </Grid>
    </Grid>
</UserControl>